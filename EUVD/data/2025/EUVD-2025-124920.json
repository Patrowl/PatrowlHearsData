{"id": "EUVD-2025-124920", "enisaUuid": "49cbba10-0d8c-31d2-992a-76c8e913dc7f", "description": "In the Linux kernel, the following vulnerability has been resolved:\n\nsched/deadline: Stop dl_server before CPU goes offline\n\nIBM CI tool reported kernel warning[1] when running a CPU removal\noperation through drmgr[2]. i.e \"drmgr -c cpu -r -q 1\"\n\nWARNING: CPU: 0 PID: 0 at kernel/sched/cpudeadline.c:219 cpudl_set+0x58/0x170\nNIP [c0000000002b6ed8] cpudl_set+0x58/0x170\nLR [c0000000002b7cb8] dl_server_timer+0x168/0x2a0\nCall Trace:\n[c000000002c2f8c0] init_stack+0x78c0/0x8000 (unreliable)\n[c0000000002b7cb8] dl_server_timer+0x168/0x2a0\n[c00000000034df84] __hrtimer_run_queues+0x1a4/0x390\n[c00000000034f624] hrtimer_interrupt+0x124/0x300\n[c00000000002a230] timer_interrupt+0x140/0x320\n\nGit bisects to: commit 4ae8d9aa9f9d (\"sched/deadline: Fix dl_server getting stuck\")\n\nThis happens since:\n- dl_server hrtimer gets enqueued close to cpu offline, when\n  kthread_park enqueues a fair task.\n- CPU goes offline and drmgr removes it from cpu_present_mask.\n- hrtimer fires and warning is hit.\n\nFix it by stopping the dl_server before CPU is marked dead.\n\n[1]: https://lore.kernel.org/all/8218e149-7718-4432-9312-f97297c352b9@linux.ibm.com/\n[2]: https://github.com/ibm-power-utilities/powerpc-utils/tree/next/src/drmgr\n\n[sshegde: wrote the changelog and tested it]", "datePublished": "2025-11-12T10:26:23", "dateUpdated": "2025-12-01T06:19:15", "baseScore": 0.0, "references": ["https://git.kernel.org/stable/c/ab6c0f158508bb16d483add70b73a73f95651c33", "https://git.kernel.org/stable/c/ee6e44dfe6e50b4a5df853d933a96bdff5309e6e", "https://nvd.nist.gov/vuln/detail/CVE-2025-40163"], "aliases": ["CVE-2025-40163"], "assigner": "Linux", "epss": 0.03, "enisaIdProduct": [{"id": "3b4baae8-ce0c-3fb6-ad11-45219aaee571", "product": {"name": "Linux"}, "product_version": "patch: 6.18-rc2"}, {"id": "3dff82e5-5444-30eb-88fa-437c9086bb83", "product": {"name": "Linux"}, "product_version": "4ae8d9aa9f9dc7137ea5e564d79c5aa5af1bc45c <ab6c0f158508bb16d483add70b73a73f95651c33"}, {"id": "54d27c38-c098-334b-abf9-fe4cc5ccf7be", "product": {"name": "Linux"}, "product_version": "6.17"}, {"id": "811ad297-07fc-310e-8e98-14d7cc426fe4", "product": {"name": "Linux"}, "product_version": "patch: 6.17.5"}, {"id": "84ac7ae2-a010-366f-a159-041b9cbb67e8", "product": {"name": "Linux"}, "product_version": "patch: 6.18"}, {"id": "b4c67f19-1896-3b5f-8b17-db6aa0928902", "product": {"name": "Linux"}, "product_version": "patch: 0"}, {"id": "bc741198-3794-3586-8e39-e00cbafa3a2b", "product": {"name": "Linux"}, "product_version": "4ae8d9aa9f9dc7137ea5e564d79c5aa5af1bc45c <ee6e44dfe6e50b4a5df853d933a96bdff5309e6e"}], "enisaIdVendor": [{"id": "e717de23-cbbb-30b7-8a54-256de2a999e1", "vendor": {"name": "Linux"}}], "isExploited": false}