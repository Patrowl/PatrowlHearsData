{"publishedDate": "2025-05-09T07:16Z", "lastModifiedDate": "2025-05-12T17:32Z", "cve": {"data_type": "CVE", "data_format": "MITRE", "data_version": "1.0", "CVE_data_meta": {"ID": "CVE-2025-37875", "ASSIGNER": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"}, "description": {"description_data": [{"lang": "en", "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nigc: fix PTM cycle trigger logic\n\nWriting to clear the PTM status 'valid' bit while the PTM cycle is\ntriggered results in unreliable PTM operation. To fix this, clear the\nPTM 'trigger' and status after each PTM transaction.\n\nThe issue can be reproduced with the following:\n\n$ sudo phc2sys -R 1000 -O 0 -i tsn0 -m\n\nNote: 1000 Hz (-R 1000) is unrealistically large, but provides a way to\nquickly reproduce the issue.\n\nPHC2SYS exits with:\n\n\"ioctl PTP_OFFSET_PRECISE: Connection timed out\" when the PTM transaction\n  fails\n\nThis patch also fixes a hang in igc_probe() when loading the igc\ndriver in the kdump kernel on systems supporting PTM.\n\nThe igc driver running in the base kernel enables PTM trigger in\nigc_probe().  Therefore the driver is always in PTM trigger mode,\nexcept in brief periods when manually triggering a PTM cycle.\n\nWhen a crash occurs, the NIC is reset while PTM trigger is enabled.\nDue to a hardware problem, the NIC is subsequently in a bad busmaster\nstate and doesn't handle register reads/writes.  When running\nigc_probe() in the kdump kernel, the first register access to a NIC\nregister hangs driver probing and ultimately breaks kdump.\n\nWith this patch, igc has PTM trigger disabled most of the time,\nand the trigger is only enabled for very brief (10 - 100 us) periods\nwhen manually triggering a PTM cycle.  Chances that a crash occurs\nduring a PTM trigger are not 0, but extremely reduced."}, {"lang": "es", "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: igc: correcci\u00f3n de la l\u00f3gica del disparador del ciclo de PTM Escribir para borrar el bit \"valid\" de estado de PTM mientras el ciclo de PTM est\u00e1 activado da como resultado un funcionamiento poco fiable de PTM. Para solucionarlo, borre el \"trigger\" y el estado de PTM despu\u00e9s de cada transacci\u00f3n de PTM. El problema se puede reproducir con lo siguiente: $ sudo phc2sys -R 1000 -O 0 -i tsn0 -m Nota: 1000 Hz (-R 1000) es irrealmente grande, pero proporciona una forma de reproducir r\u00e1pidamente el problema. PHC2SYS termina con: \"ioctl PTP_OFFSET_PRECISE: Connection timed out\" cuando falla la transacci\u00f3n de PTM Este parche tambi\u00e9n corrige un bloqueo en igc_probe() al cargar el controlador igc en el kernel kdump en sistemas compatibles con PTM. El controlador igc que se ejecuta en el kernel base habilita el disparador de PTM en igc_probe(). Por lo tanto, el controlador siempre est\u00e1 en modo de disparo PTM, excepto durante breves periodos al activar manualmente un ciclo PTM. Si se produce un fallo, la NIC se reinicia con el disparo PTM activado. Debido a un problema de hardware, la NIC se encuentra en un estado de busmaster defectuoso y no gestiona las lecturas/escrituras de registros. Al ejecutar igc_probe() en el kernel de kdump, el primer acceso a un registro de la NIC bloquea el sondeo del controlador y, en \u00faltima instancia, interrumpe kdump. Con esta revisi\u00f3n, igc mantiene el disparo PTM desactivado la mayor parte del tiempo, y solo se activa durante periodos muy breves (10-100 us) al activar manualmente un ciclo PTM. La probabilidad de que se produzca un fallo durante un disparo PTM no es nula, sino extremadamente reducida."}]}, "references": {"reference_data": [{"url": "https://git.kernel.org/stable/c/0c03e4fbe1321697d9d04587e21e416705e1b19f", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/16194ca3f3b4448a062650c869a7b3b206c6f5d3", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/31959e06143692f7e02b8eef7d7d6ac645637906", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/8e404ad95d2c10c261e2ef6992c7c12dde03df0e", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/c1f174edaccc5a00f8e218c42a0aa9156efd5f76", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/f3516229cd12dcd45f23ed01adab17e8772b1bd5", "name": "", "refsource": "", "tags": []}]}, "problemtype": {"problemtype_data": [{"description": [{"lang": "en", "value": "NVD-CWE-noinfo"}]}]}}, "impact": {}, "configurations": {"CVE_data_version": "4.0", "nodes": []}}