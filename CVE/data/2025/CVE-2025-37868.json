{"publishedDate": "2025-05-09T07:16Z", "lastModifiedDate": "2025-11-12T20:37Z", "cve": {"data_type": "CVE", "data_format": "MITRE", "data_version": "1.0", "CVE_data_meta": {"ID": "CVE-2025-37868", "ASSIGNER": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"}, "description": {"description_data": [{"lang": "en", "value": "In the Linux kernel, the following vulnerability has been resolved:\n\ndrm/xe/userptr: fix notifier vs folio deadlock\n\nUser is reporting what smells like notifier vs folio deadlock, where\nmigrate_pages_batch() on core kernel side is holding folio lock(s) and\nthen interacting with the mappings of it, however those mappings are\ntied to some userptr, which means calling into the notifier callback and\ngrabbing the notifier lock. With perfect timing it looks possible that\nthe pages we pulled from the hmm fault can get sniped by\nmigrate_pages_batch() at the same time that we are holding the notifier\nlock to mark the pages as accessed/dirty, but at this point we also want\nto grab the folio locks(s) to mark them as dirty, but if they are\ncontended from notifier/migrate_pages_batch side then we deadlock since\nfolio lock won't be dropped until we drop the notifier lock.\n\nFortunately the mark_page_accessed/dirty is not really needed in the\nfirst place it seems and should have already been done by hmm fault, so\njust remove it.\n\n(cherry picked from commit bd7c0cb695e87c0e43247be8196b4919edbe0e85)"}, {"lang": "es", "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: drm/xe/userptr: fix notifier vs folio deadlock El usuario informa lo que parece ser un deadlock entre notifier y folio, donde migration_pages_batch() en el lado del n\u00facleo central mantiene el bloqueo de folio y luego interact\u00faa con las asignaciones de este, sin embargo, esas asignaciones est\u00e1n vinculadas a alg\u00fan userptr, lo que significa llamar a la devoluci\u00f3n de llamada del notificador y tomar el bloqueo del notificador. Con una sincronizaci\u00f3n perfecta, parece posible que las p\u00e1ginas que extrajimos de la falla hmm puedan ser atacadas por migration_pages_batch() al mismo tiempo que mantenemos el bloqueo del notificador para marcar las p\u00e1ginas como accedidas/sucias, pero en este punto tambi\u00e9n queremos tomar el bloqueo de folio para marcarlos como sucios, pero si se disputan desde el lado de notifier/migrate_pages_batch, entonces nos bloqueamos ya que el bloqueo de folio no se eliminar\u00e1 hasta que eliminemos el bloqueo del notificador. Afortunadamente, mark_page_accessed/dirty no es realmente necesario en primer lugar, al parecer, y ya deber\u00eda haber sido realizado por hmm fault, as\u00ed que simplemente elim\u00ednelo. (seleccionado del commit bd7c0cb695e87c0e43247be8196b4919edbe0e85)"}]}, "references": {"reference_data": [{"url": "https://git.kernel.org/stable/c/2577b202458cddff85cc154b1fe7f313e0d1f418", "name": "", "refsource": "", "tags": ["Patch"]}, {"url": "https://git.kernel.org/stable/c/65dc4e3d5b01db0179fc95c1f0bdb87194c28ab5", "name": "", "refsource": "", "tags": ["Patch"]}, {"url": "https://git.kernel.org/stable/c/90574ecf6052be83971d91d16600c5cf07003bbb", "name": "", "refsource": "", "tags": ["Patch"]}]}, "problemtype": {"problemtype_data": [{"description": [{"lang": "en", "value": "CWE-667"}]}]}}, "impact": {"baseMetricV3": {"exploitabilityScore": 1.8, "impactScore": 3.6, "cvssV3": {"version": "3.1", "vectorString": "CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H", "baseScore": 5.5, "baseSeverity": "MEDIUM", "attackVector": "LOCAL", "attackComplexity": "LOW", "privilegesRequired": "LOW", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "NONE", "integrityImpact": "NONE", "availabilityImpact": "HIGH"}}}, "configurations": {"CVE_data_version": "4.0", "nodes": [{"operator": "OR", "negate": false, "children": [], "cpe_match": [{"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*", "matchCriteriaId": "4E18BED3-0115-482C-861A-9ECA8B05EEB2", "cpe_name": [], "versionStartIncluding": "6.12.19", "versionEndExcluding": "6.12.25"}, {"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*", "matchCriteriaId": "87A94BBB-C489-4F0E-AC35-A6E9E1316FCE", "cpe_name": [], "versionStartIncluding": "6.13.7", "versionEndExcluding": "6.14"}, {"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*", "matchCriteriaId": "26175852-4D93-410C-BC8C-C405F2A9D737", "cpe_name": [], "versionStartIncluding": "6.14.1", "versionEndExcluding": "6.14.4"}, {"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:6.14:-:*:*:*:*:*:*", "matchCriteriaId": "7DE421BA-0600-4401-A175-73CAB6A6FB4E", "cpe_name": []}, {"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:6.14:rc6:*:*:*:*:*:*", "matchCriteriaId": "1759FFB7-531C-41B1-9AE1-FD3D80E0D920", "cpe_name": []}, {"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:6.14:rc7:*:*:*:*:*:*", "matchCriteriaId": "AD948719-8628-4421-A340-1066314BBD4A", "cpe_name": []}, {"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:6.15:rc1:*:*:*:*:*:*", "matchCriteriaId": "8D465631-2980-487A-8E65-40AE2B9F8ED1", "cpe_name": []}, {"vulnerable": true, "cpe23Uri": "cpe:2.3:o:linux:linux_kernel:6.15:rc2:*:*:*:*:*:*", "matchCriteriaId": "4C9D071F-B28E-46EC-AC61-22B913390211", "cpe_name": []}]}]}}