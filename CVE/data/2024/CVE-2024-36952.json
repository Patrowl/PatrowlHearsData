{"publishedDate": "2024-05-30T16:15Z", "lastModifiedDate": "2024-11-21T09:22Z", "cve": {"data_type": "CVE", "data_format": "MITRE", "data_version": "1.0", "CVE_data_meta": {"ID": "CVE-2024-36952", "ASSIGNER": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"}, "description": {"description_data": [{"lang": "en", "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nscsi: lpfc: Move NPIV's transport unregistration to after resource clean up\n\nThere are cases after NPIV deletion where the fabric switch still believes\nthe NPIV is logged into the fabric.  This occurs when a vport is\nunregistered before the Remove All DA_ID CT and LOGO ELS are sent to the\nfabric.\n\nCurrently fc_remove_host(), which calls dev_loss_tmo for all D_IDs including\nthe fabric D_ID, removes the last ndlp reference and frees the ndlp rport\nobject.  This sometimes causes the race condition where the final DA_ID and\nLOGO are skipped from being sent to the fabric switch.\n\nFix by moving the fc_remove_host() and scsi_remove_host() calls after DA_ID\nand LOGO are sent."}, {"lang": "es", "value": "En el kernel de Linux, se resolvi\u00f3 la siguiente vulnerabilidad: scsi: lpfc: Mover la anulaci\u00f3n del registro de transporte de NPIV a despu\u00e9s de la limpieza de recursos. Hay casos despu\u00e9s de la eliminaci\u00f3n de NPIV en los que el conmutador de tejido todav\u00eda cree que el NPIV est\u00e1 registrado en el tejido. Esto ocurre cuando se cancela el registro de un vport antes de que Remove All DA_ID CT y LOGO ELS se env\u00eden a la estructura. Actualmente, fc_remove_host(), que llama a dev_loss_tmo para todos los D_ID, incluido el D_ID de tejido, elimina la \u00faltima referencia de ndlp y libera el objeto de informe de ndlp. Esto a veces provoca la condici\u00f3n de ejecuci\u00f3n en la que el DA_ID y el LOGO finales no se env\u00edan al conmutador de estructura. Para solucionarlo, mueva las llamadas fc_remove_host() y scsi_remove_host() despu\u00e9s de enviar DA_ID y LOGO."}]}, "references": {"reference_data": [{"url": "https://git.kernel.org/stable/c/0936809d968ecf81e0726fbd02ff2a5732d960c3", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/4ddf01f2f1504fa08b766e8cfeec558e9f8eef6c", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/718602cd15f4c5710850090ea3066a89eeb46278", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/76337eb8daee32bcc67742efab3168ed4ca299d0", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/f2c7f029051edc4b394bb48edbe2297575abefe0", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/0936809d968ecf81e0726fbd02ff2a5732d960c3", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/4ddf01f2f1504fa08b766e8cfeec558e9f8eef6c", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/718602cd15f4c5710850090ea3066a89eeb46278", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/76337eb8daee32bcc67742efab3168ed4ca299d0", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/f2c7f029051edc4b394bb48edbe2297575abefe0", "name": "", "refsource": "", "tags": []}]}, "problemtype": {"problemtype_data": [{"description": [{"lang": "en", "value": "NVD-CWE-noinfo"}]}]}}, "impact": {}, "configurations": {"CVE_data_version": "4.0", "nodes": []}}