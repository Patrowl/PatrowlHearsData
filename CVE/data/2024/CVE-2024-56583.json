{"publishedDate": "2024-12-27T15:15Z", "lastModifiedDate": "2024-12-27T15:15Z", "cve": {"data_type": "CVE", "data_format": "MITRE", "data_version": "1.0", "CVE_data_meta": {"ID": "CVE-2024-56583", "ASSIGNER": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"}, "description": {"description_data": [{"lang": "en", "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nsched/deadline: Fix warning in migrate_enable for boosted tasks\n\nWhen running the following command:\n\nwhile true; do\n    stress-ng --cyclic 30 --timeout 30s --minimize --quiet\ndone\n\na warning is eventually triggered:\n\nWARNING: CPU: 43 PID: 2848 at kernel/sched/deadline.c:794\nsetup_new_dl_entity+0x13e/0x180\n...\nCall Trace:\n <TASK>\n ? show_trace_log_lvl+0x1c4/0x2df\n ? enqueue_dl_entity+0x631/0x6e0\n ? setup_new_dl_entity+0x13e/0x180\n ? __warn+0x7e/0xd0\n ? report_bug+0x11a/0x1a0\n ? handle_bug+0x3c/0x70\n ? exc_invalid_op+0x14/0x70\n ? asm_exc_invalid_op+0x16/0x20\n enqueue_dl_entity+0x631/0x6e0\n enqueue_task_dl+0x7d/0x120\n __do_set_cpus_allowed+0xe3/0x280\n __set_cpus_allowed_ptr_locked+0x140/0x1d0\n __set_cpus_allowed_ptr+0x54/0xa0\n migrate_enable+0x7e/0x150\n rt_spin_unlock+0x1c/0x90\n group_send_sig_info+0xf7/0x1a0\n ? kill_pid_info+0x1f/0x1d0\n kill_pid_info+0x78/0x1d0\n kill_proc_info+0x5b/0x110\n __x64_sys_kill+0x93/0xc0\n do_syscall_64+0x5c/0xf0\n entry_SYSCALL_64_after_hwframe+0x6e/0x76\n RIP: 0033:0x7f0dab31f92b\n\nThis warning occurs because set_cpus_allowed dequeues and enqueues tasks\nwith the ENQUEUE_RESTORE flag set. If the task is boosted, the warning\nis triggered. A boosted task already had its parameters set by\nrt_mutex_setprio, and a new call to setup_new_dl_entity is unnecessary,\nhence the WARN_ON call.\n\nCheck if we are requeueing a boosted task and avoid calling\nsetup_new_dl_entity if that's the case."}, {"lang": "es", "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: sched/deadline: Se corrige la advertencia en migrants_enable para tareas impulsadas Al ejecutar el siguiente comando: while true; do stress-ng --cyclic 30 --timeout 30s --minimize --quiet done, finalmente se activa una advertencia: ADVERTENCIA: CPU: 43 PID: 2848 en kernel/sched/deadline.c:794 setup_new_dl_entity+0x13e/0x180 ... Seguimiento de llamadas:  ? show_trace_log_lvl+0x1c4/0x2df ? enqueue_dl_entity+0x631/0x6e0 ? setup_new_dl_entity+0x13e/0x180 ? __warn+0x7e/0xd0 ? report_bug+0x11a/0x1a0 ? asm_exc_invalid_op+0x16/0x20 entidad_desactivada_en_cola+0x631/0x6e0 tarea_desactivada_en_cola+0x7d/0x120 __establecer_cpus_permitidas+0xe3/0x280 __establecer_cpus_permitidas_ptr_bloqueado+0x140/0x1d0 __establecer_cpus_permitidas_ptr+0x54/0xa0 habilitar_migrar+0x7e/0x150 desbloqueo_rt_spin+0x1c/0x90 informaci\u00f3n_sig_enviar_grupo+0xf7/0x1a0 ? kill_pid_info+0x1f/0x1d0 kill_pid_info+0x78/0x1d0 kill_proc_info+0x5b/0x110 __x64_sys_kill+0x93/0xc0 do_syscall_64+0x5c/0xf0 entry_SYSCALL_64_after_hwframe+0x6e/0x76 RIP: 0033:0x7f0dab31f92b Esta advertencia se produce porque set_cpus_allowed quita y pone en cola las tareas con el indicador ENQUEUE_RESTORE establecido. Si se impulsa la tarea, se activa la advertencia. Una tarea impulsada ya ten\u00eda sus par\u00e1metros establecidos por rt_mutex_setprio y no es necesaria una nueva llamada a setup_new_dl_entity, de ah\u00ed la llamada WARN_ON. Verifique si estamos volviendo a poner en cola una tarea impulsada y evite llamar a setup_new_dl_entity si ese es el caso."}]}, "references": {"reference_data": [{"url": "https://git.kernel.org/stable/c/0664e2c311b9fa43b33e3e81429cd0c2d7f9c638", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/b600d30402854415aa57548a6b53dc6478f65517", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/e41074904d9ed3fe582d6e544c77b40c22043c82", "name": "", "refsource": "", "tags": []}]}, "problemtype": {"problemtype_data": [{"description": [{"lang": "en", "value": "NVD-CWE-noinfo"}]}]}}, "impact": {}, "configurations": {"CVE_data_version": "4.0", "nodes": []}}