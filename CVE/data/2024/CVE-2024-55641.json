{"publishedDate": "2025-01-11T13:15Z", "lastModifiedDate": "2025-01-11T13:15Z", "cve": {"data_type": "CVE", "data_format": "MITRE", "data_version": "1.0", "CVE_data_meta": {"ID": "CVE-2024-55641", "ASSIGNER": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"}, "description": {"description_data": [{"lang": "en", "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nxfs: unlock inodes when erroring out of xfs_trans_alloc_dir\n\nDebugging a filesystem patch with generic/475 caused the system to hang\nafter observing the following sequences in dmesg:\n\n XFS (dm-0): metadata I/O error in \"xfs_imap_to_bp+0x61/0xe0 [xfs]\" at daddr 0x491520 len 32 error 5\n XFS (dm-0): metadata I/O error in \"xfs_btree_read_buf_block+0xba/0x160 [xfs]\" at daddr 0x3445608 len 8 error 5\n XFS (dm-0): metadata I/O error in \"xfs_imap_to_bp+0x61/0xe0 [xfs]\" at daddr 0x138e1c0 len 32 error 5\n XFS (dm-0): log I/O error -5\n XFS (dm-0): Metadata I/O Error (0x1) detected at xfs_trans_read_buf_map+0x1ea/0x4b0 [xfs] (fs/xfs/xfs_trans_buf.c:311).  Shutting down filesystem.\n XFS (dm-0): Please unmount the filesystem and rectify the problem(s)\n XFS (dm-0): Internal error dqp->q_ino.reserved < dqp->q_ino.count at line 869 of file fs/xfs/xfs_trans_dquot.c.  Caller xfs_trans_dqresv+0x236/0x440 [xfs]\n XFS (dm-0): Corruption detected. Unmount and run xfs_repair\n XFS (dm-0): Unmounting Filesystem be6bcbcc-9921-4deb-8d16-7cc94e335fa7\n\nThe system is stuck in unmount trying to lock a couple of inodes so that\nthey can be purged.  The dquot corruption notice above is a clue to what\nhappened -- a link() call tried to set up a transaction to link a child\ninto a directory.  Quota reservation for the transaction failed after IO\nerrors shut down the filesystem, but then we forgot to unlock the inodes\non our way out.  Fix that."}, {"lang": "es", "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: xfs: desbloquear inodos al generar un error fuera de xfs_trans_alloc_dir La depuraci\u00f3n de un parche del sistema de archivos con generic/475 provoc\u00f3 que el sistema se bloqueara despu\u00e9s de observar las siguientes secuencias en dmesg: XFS (dm-0): error de E/S de metadatos en \"xfs_imap_to_bp+0x61/0xe0 [xfs]\" en daddr 0x491520 len 32 error 5 XFS (dm-0): error de E/S de metadatos en \"xfs_btree_read_buf_block+0xba/0x160 [xfs]\" en daddr 0x3445608 len 8 error 5 XFS (dm-0): error de E/S de metadatos en \"xfs_imap_to_bp+0x61/0xe0 [xfs]\" en daddr 0x138e1c0 len 32 error 5 XFS (dm-0): error de E/S de registro -5 XFS (dm-0): Error de E/S de metadatos (0x1) detectado en xfs_trans_read_buf_map+0x1ea/0x4b0 [xfs] (fs/xfs/xfs_trans_buf.c:311). Apagando el sistema de archivos. XFS (dm-0): Desmonte el sistema de archivos y rectifique los problemas. XFS (dm-0): Error interno dqp-&gt;q_ino.reserved &lt; dqp-&gt;q_ino.count en la l\u00ednea 869 del archivo fs/xfs/xfs_trans_dquot.c. Llamador xfs_trans_dqresv+0x236/0x440 [xfs] XFS (dm-0): Corrupci\u00f3n detectada. Desmontar y ejecutar xfs_repair XFS (dm-0): Desmontando el sistema de archivos be6bcbcc-9921-4deb-8d16-7cc94e335fa7 El sistema est\u00e1 atascado en el modo de desmontaje intentando bloquear un par de inodos para que puedan ser purgados. El aviso de corrupci\u00f3n de dquot anterior es una pista de lo que sucedi\u00f3: una llamada a link() intent\u00f3 configurar una transacci\u00f3n para vincular un hijo a un directorio. La reserva de cuota para la transacci\u00f3n fall\u00f3 despu\u00e9s de que los errores de E/S apagaran el sistema de archivos, pero luego olvidamos desbloquear los inodos al salir. Arreglen eso."}]}, "references": {"reference_data": [{"url": "https://git.kernel.org/stable/c/53b001a21c9dff73b64e8c909c41991f01d5d00f", "name": "", "refsource": "", "tags": []}, {"url": "https://git.kernel.org/stable/c/6aefe5d97ae57b1343dc60d8bb6a4ed070e5bcea", "name": "", "refsource": "", "tags": []}]}, "problemtype": {"problemtype_data": [{"description": [{"lang": "en", "value": "NVD-CWE-noinfo"}]}]}}, "impact": {}, "configurations": {"CVE_data_version": "4.0", "nodes": []}}